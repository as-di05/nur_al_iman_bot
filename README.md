# Бот для оповещения о намазе

Telegram бот для напоминаний о времени намаза в Бишкеке.

## Структура проекта

```
bot/
├── src/
│   ├── config/          # Конфигурация и константы
│   │   └── constants.js
│   ├── handlers/        # Обработчики команд
│   │   └── commandHandlers.js
│   ├── services/        # Бизнес-логика
│   │   ├── prayerService.js
│   │   ├── notificationService.js
│   │   └── schedulerService.js
│   ├── utils/           # Утилиты
│   │   └── timeUtils.js
│   └── bot.js           # Главный файл бота
├── index.js             # Точка входа
├── package.json
└── ecosystem.config.cjs # PM2 конфигурация
```

## Установка

```bash
npm install
```

## Запуск

### Разработка (с автоперезапуском)
```bash
npm run dev
```
Nodemon автоматически перезапустит бот при изменении файлов в `src/`

### Продакшен (рекомендуется)
```bash
./run.sh start    # Запустить в фоне
./run.sh stop     # Остановить
./run.sh restart  # Перезапустить (при изменениях кода)
./run.sh status   # Проверить статус
./run.sh logs     # Смотреть логи в реальном времени
```

### Простой запуск
```bash
npm start         # Запуск без фона (видны все логи)
```

## Команды бота

- `/start` - Запустить бота и показать расписание
- `/fajr` - Тестовое сообщение Фаджр
- `/dhuhr` - Тестовое сообщение Зухр
- `/asr` - Тестовое сообщение Аср
- `/maghrib` - Тестовое сообщение Магриб
- `/isha` - Тестовое сообщение Иша

## Особенности

- Фаджр: уведомление в точное время + информация о джамаате
- Остальные намазы: уведомление за 15 минут
- Автообновление расписания каждый день в 00:30
